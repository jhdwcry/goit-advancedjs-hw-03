{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export async function fetchImages(query) {\n  const API_KEY = \"47906037-2c0a065ebc1b1a12e8c8fed40\";\n  const BASE_URL = \"https://pixabay.com/api/\";\n\n  const response = await fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`\n  );\n\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch images.\");\n  }\n\n  return response.json();\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst gallery = document.getElementById(\"gallery\");\nconst loader = document.getElementById(\"loader\");\n\nexport function renderGallery(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <a href=\"${largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p><b>Likes:</b> ${likes}</p>\n          <p><b>Views:</b> ${views}</p>\n          <p><b>Comments:</b> ${comments}</p>\n          <p><b>Downloads:</b> ${downloads}</p>\n        </div>\n      </a>`\n    )\n    .join(\"\");\n\n  gallery.innerHTML = markup;\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"hidden\");\n}\n\nexport function showError(message) {\n  iziToast.error({ title: \"Error\", message });\n}\n\nexport function showWarning(message) {\n  iziToast.warning({ title: \"Warning\", message });\n}\n","import { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderGallery, clearGallery, showLoader, hideLoader, showError, showWarning } from \"./js/render-function.js\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.getElementById(\"search-form\");\nconst searchInput = document.getElementById(\"search-input\");\nlet lightbox;\n\nsearchForm.addEventListener(\"submit\", async (e) => {\n  e.preventDefault();\n\n  const query = searchInput.value.trim();\n  if (!query) {\n    showError(\"Search field cannot be empty!\");\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const data = await fetchImages(query);\n\n    if (data.hits.length === 0) {\n      showWarning(\"Sorry, there are no images matching your search query. Please try again!\");\n      return;\n    }\n\n    renderGallery(data.hits);\n\n    if (lightbox) {\n      lightbox.refresh();\n    } else {\n      lightbox = new SimpleLightbox(\".gallery a\");\n    }\n  } catch (error) {\n    showError(\"Something went wrong. Please try again later.\");\n  } finally {\n    hideLoader();\n  }\n});"],"names":["fetchImages","query","response","gallery","loader","renderGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","showError","message","iziToast","showWarning","searchForm","searchInput","lightbox","e","data","SimpleLightbox"],"mappings":"6vBAAO,eAAeA,EAAYC,EAAO,CAIvC,MAAMC,EAAW,MAAM,MACrB,qEAAgC,mBAAmBD,CAAK,CAAC,0DAC7D,EAEE,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,yBAAyB,EAG3C,OAAOA,EAAS,MAClB,CCVA,MAAMC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAExC,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA,iBACnEL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,6BAEjBC,CAAK;AAAA,6BACLC,CAAK;AAAA,gCACFC,CAAQ;AAAA,iCACPC,CAAS;AAAA;AAAA,WAGrC,EACA,KAAK,EAAE,EAEVX,EAAQ,UAAYI,CACtB,CAEO,SAASQ,GAAe,CAC7BZ,EAAQ,UAAY,EACtB,CAEO,SAASa,GAAa,CAC3BZ,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASa,GAAa,CAC3Bb,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEO,SAASc,EAAUC,EAAS,CACjCC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAAD,CAAS,CAAA,CAC5C,CAEO,SAASE,EAAYF,EAAS,CACnCC,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAAD,CAAS,CAAA,CAChD,CCtCA,MAAMG,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EAC1D,IAAIC,EAEJF,EAAW,iBAAiB,SAAU,MAAOG,GAAM,CACjDA,EAAE,eAAc,EAEhB,MAAMxB,EAAQsB,EAAY,MAAM,KAAI,EACpC,GAAI,CAACtB,EAAO,CACViB,EAAU,+BAA+B,EACzC,MACD,CAEDH,IACAC,IAEA,GAAI,CACF,MAAMU,EAAO,MAAM1B,EAAYC,CAAK,EAEpC,GAAIyB,EAAK,KAAK,SAAW,EAAG,CAC1BL,EAAY,0EAA0E,EACtF,MACD,CAEDhB,EAAcqB,EAAK,IAAI,EAEnBF,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIG,EAAe,YAAY,CAE7C,MAAe,CACdT,EAAU,+CAA+C,CAC7D,QAAY,CACRD,GACD,CACH,CAAC"}